{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Listing.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["Filter","onChange","value","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","type","Listing","id","name","number","handleDeleteListing","onClick","Persons","persons","map","person","baseUrl","axios","get","then","response","data","newObject","post","url","delete","existingObject","newNumber","updatedObject","put","Notification","message","errorMessageType","messageStyle","bakcgroundColor","fontSize","padding","borderRadius","marginBottom","color","border","backgroundColor","style","App","useState","setPersons","newName","setNewName","setNewNumber","searchField","setSearchField","errorMessage","setErrorMessage","setErrorMessageType","useEffect","phonebookService","initialItems","personsToShow","filter","includes","event","target","preventDefault","newPersonObject","some","window","confirm","matchedListing","find","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"wKAUiBA,EARF,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACxB,OACE,6DAC4B,uBAAOD,SAAUA,EAAUC,MAAOA,QCenDC,EAlBE,SAAC,GAAwE,IAAtEC,EAAqE,EAArEA,SAAUC,EAA2D,EAA3DA,UAAWC,EAAgD,EAAhDA,aAAcC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,eAClE,OACE,8BACE,uBAAMJ,SAAUA,EAAhB,UACE,yCACQ,uBAAOF,MAAOG,EAAWJ,SAAUK,OAE3C,2CACU,uBAAOJ,MAAOK,EAAaN,SAAUO,OAE/C,8BACE,wBAAQC,KAAK,SAAb,yBCLGC,EANC,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,GAAIC,EAAwC,EAAxCA,KAAMC,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,oBACjC,OACI,+BAAKF,EAAL,IAAYC,EAAO,wBAAQE,QAAS,kBAAMD,EAAoBH,IAA3C,wBCmBVK,EAjBD,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,QAASH,EAA0B,EAA1BA,oBAE1B,OACI,8BACE,6BACGG,EAAQC,KAAI,SAACC,GACZ,OACE,8BACE,cAAC,EAAD,CAA2BR,GAAIQ,EAAOR,GAAIC,KAAMO,EAAOP,KAAMC,OAAQM,EAAON,OAAQC,oBAAqBA,GAA3FK,EAAOP,gB,OCb/BQ,EAAU,eAyBD,EAvBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAqB9B,EAlBA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAgB9B,EAbO,SAACd,GACnB,IAAMiB,EAAG,UAAMR,EAAN,YAAiBT,GAE1B,OADgBU,IAAMQ,OAAOD,GACdL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAU9B,EAPA,SAACK,EAAgBC,GAC5B,IAAMC,EAAa,2BAAOF,GAAP,IAAuBjB,OAAQkB,IAC5CH,EAAG,UAAMR,EAAN,YAAiBY,EAAcrB,IAExC,OADgBU,IAAMY,IAAIL,EAAKI,GAChBT,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCdvCS,EAAe,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,iBAE1BC,EAAe,CACjBC,gBAAiB,QACjBC,SAAU,GACVC,QAAS,OACTC,aAAc,MACdC,aAAc,QAchB,OAXyB,IAArBN,IACFC,EAAaM,MAAQ,QACrBN,EAAaO,OAAS,kBACtBP,EAAaQ,gBAAkB,SAER,IAArBT,IACFC,EAAaM,MAAQ,MACrBN,EAAaO,OAAS,gBACtBP,EAAaQ,gBAAkB,aAGjB,OAAZV,EACK,KAGP,qBAAKW,MAAOT,EAAZ,SACGF,KA+IQY,EA1IH,WAIV,MAAgCC,mBAAS,IAAzC,mBAAQ/B,EAAR,KAAiBgC,EAAjB,KACA,EAAgCD,mBAAS,QAAzC,mBAAQE,EAAR,KAAiBC,EAAjB,KACA,EAAoCH,mBAAS,UAA7C,mBAAQjB,EAAR,KAAmBqB,EAAnB,KACA,EAAwCJ,mBAAS,IAAjD,mBAAQK,EAAR,KAAqBC,EAArB,KACA,EAA0CN,mBAAS,MAAnD,mBAAQO,EAAR,KAAsBC,EAAtB,KACA,EAAkDR,mBAAS,GAA3D,mBAAQZ,EAAR,KAA0BqB,EAA1B,KAUAC,qBAPc,WACZC,IACCpC,MAAK,SAAAqC,GACJX,EAAWW,QAIE,IAMjB,IA6FMC,EAAgC,KAAhBR,EAAqBpC,EAAUA,EAAQ6C,QAAO,SAAA3C,GAAM,OAAIA,EAAOP,KAAKmD,SAASV,MAInG,OACE,gCACE,2CACA,cAAC,EAAD,CAAclB,QAASoB,EAAcnB,iBAAkBA,IACvD,cAAC,EAAD,CAAQnC,SA7Fc,SAAC+D,GACzBV,EAAeU,EAAMC,OAAO/D,QA4FWA,MAAOmD,IAC5C,mDACA,cAAC,EAAD,CAAYjD,SA3FG,SAAC4D,GAElBA,EAAME,iBACN,IAAMC,EAAkB,CACtBvD,KAAMsC,EACNrC,OAAQkB,GAIV,GADcd,EAAQmD,MAAK,SAAAjD,GAAM,OAAIA,EAAOP,OAASsC,KAC1C,CAET,GADqBmB,OAAOC,QAAP,UAAkBpB,EAAlB,6EAKhB,CACH,IAAMqB,EAAiBtD,EAAQuD,MAAK,SAAArD,GAAM,OAAIA,EAAOP,OAASsC,KAC9DS,EAAwBY,EAAgBJ,EAAgBtD,QACvDU,MAAK,SAAAS,GACJiB,EAAWhC,EAAQC,KAAI,SAAAC,GAAM,OAAIA,EAAOR,KAAOqB,EAAcrB,GAAKQ,EAASa,MAC3EmB,EAAW,IACXC,EAAa,OAEdqB,OAAM,SAAAC,GACLjB,EAAoB,GACpBD,EAAgBkB,EAAMlD,SAASC,KAAKiD,OACpCC,YAAW,WACTnB,EAAgB,MAChBC,EAAoB,KACnB,aAjBLN,EAAW,IACXC,EAAa,IAmBf,OAAO,EAGTO,EACUQ,GACP5C,MAAK,SAAAG,GACJuB,EAAWhC,EAAQ2D,OAAOlD,IAC1ByB,EAAW,IACXC,EAAa,IACbK,EAAoB,GACpBD,EAAgB,SAAD,OAAUW,EAAgBvD,OACzC+D,YAAW,WACTnB,EAAgB,MAChBC,EAAoB,KACjB,QAENgB,OAAM,SAAAC,GACLjB,EAAoB,GACpBD,EAAgBkB,EAAMlD,SAASC,KAAKiD,OACpCC,YAAW,WACTnB,EAAgB,MAChBC,EAAoB,KACjB,SAqC2BpD,UAAW6C,EAAS5C,aAvGpC,SAAC0D,GACrBb,EAAWa,EAAMC,OAAO/D,QAsG6DK,YAAawB,EAAWvB,eAnGvF,SAACwD,GACvBZ,EAAaY,EAAMC,OAAO/D,UAmGxB,yCACA,cAAC,EAAD,CACEe,QAAS4C,EACT/C,oBArCsB,SAACH,GAC3BgD,EACiBhD,GACdY,MAAK,SAAAE,GACJgC,EAAoB,GACpBD,EAAgB,gCAChBmB,YAAW,WACTnB,EAAgB,MAChBC,EAAoB,KACjB,QAENgB,OAAM,SAAAC,GACLjB,EAAoB,GACpBD,EAAgB,iEAChBmB,YAAW,WACTnB,EAAgB,MAChBC,EAAoB,KACjB,QAEPR,EAAWhC,EAAQ6C,QAAO,SAAA3C,GAAM,OAAIA,EAAOR,KAAOA,aCtJxDkE,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.868e74d8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ onChange, value }) => {\n    return (\n      <div>\n        filter shown results with <input onChange={onChange} value={value}/>\n      </div>\n    )\n  }\n  \n  export default Filter","import React from 'react'\n\nconst PersonForm = ({ onSubmit, nameValue, nameOnChange, numberValue, numberOnChange }) => {\n    return (\n      <div>\n        <form onSubmit={onSubmit}>\n          <div>\n            name: <input value={nameValue} onChange={nameOnChange}/>\n          </div>\n          <div>\n            number: <input value={numberValue} onChange={numberOnChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n\n  export default PersonForm","import React from 'react'\n\nconst Listing = ({ id, name, number, handleDeleteListing }) => {\n    return (\n        <li>{name} {number}<button onClick={() => handleDeleteListing(id)}>Delete</button></li>\n    )\n}\n\nexport default Listing","import React from 'react'\n\nimport Listing from './Listing'\n\n\n\nconst Persons = ({ persons, handleDeleteListing }) => {\n    \n  return (\n      <div>\n        <ul>\n          {persons.map((person) => {\n            return(\n              <div>\n                <Listing key={person.name} id={person.id} name={person.name} number={person.number} handleDeleteListing={handleDeleteListing}/>\n              </div>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n\n  export default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteListing = (id) => {\n    const url = `${baseUrl}/${id}`\n    const request = axios.delete(url)\n    return request.then(response => response.data)\n}\n\nconst update = (existingObject, newNumber) => {\n    const updatedObject = {...existingObject, number: newNumber}\n    const url = `${baseUrl}/${updatedObject.id}`\n    const request = axios.put(url, updatedObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteListing, update }","import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nimport phonebookService from './services/phonebook.js'\n\nconst Notification = ({message, errorMessageType }) => {\n\n  let messageStyle = {\n    bakcgroundColor: 'cream',\n    fontSize: 20,\n    padding: \"10px\",\n    borderRadius: \"5px\",\n    marginBottom: \"15px\"\n  }\n\n  if (errorMessageType === 1) {\n    messageStyle.color = 'green'\n    messageStyle.border = \"2px green solid\"\n    messageStyle.backgroundColor = 'cream'\n  }\n  if (errorMessageType === 2) {\n    messageStyle.color = 'red'\n    messageStyle.border = \"2px red solid\"\n    messageStyle.backgroundColor = 'lightgray'\n  }\n\n  if (message === null) {\n    return null\n  }\n  return (\n    <div style={messageStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  \n  ////////////////////// Set State ///////////////////////\n    \n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('name')\n  const [ newNumber, setNewNumber ] = useState('number')\n  const [ searchField, setSearchField ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ errorMessageType, setErrorMessageType ] = useState(0)\n\n\n  const fetch = () => {\n    phonebookService.getAll()\n    .then(initialItems => {\n      setPersons(initialItems)\n    })\n  }\n\n  useEffect(fetch, [])\n\n  //////////////////////////////////////////////////////\n\n  ////////////////////// Event Handlers /////////////////\n\n  const updateNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const updateNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const updateSearchField = (event) => {\n    setSearchField(event.target.value)\n  }\n\n  const addNewName = (event) => {\n    \n    event.preventDefault()\n    const newPersonObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const match = persons.some(person => person.name === newName)\n    if (match) {\n      const confirmation = window.confirm(`${newName} already exists in the phonebook.  Would you like to replace the number?`)\n      if (!confirmation) {\n        setNewName(\"\")\n        setNewNumber(\"\")\n      } \n      else {\n        const matchedListing = persons.find(person => person.name === newName)\n        phonebookService.update(matchedListing, newPersonObject.number)\n        .then(updatedObject => {\n          setPersons(persons.map(person => person.id !== updatedObject.id ? person : updatedObject))\n          setNewName(\"\")\n          setNewNumber(\"\")\n        }) \n        .catch(error => {\n          setErrorMessageType(2)\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n            setErrorMessageType(0)\n          }, 5000)\n        })\n      }\n      return 1\n    }\n\n    phonebookService\n      .create(newPersonObject)\n      .then(newObject => {\n        setPersons(persons.concat(newObject))\n        setNewName(\"\")\n        setNewNumber(\"\")\n        setErrorMessageType(1)\n        setErrorMessage(`Added ${newPersonObject.name}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n          setErrorMessageType(0)\n          }, 5000)\n      })\n      .catch(error => {\n        setErrorMessageType(2)\n        setErrorMessage(error.response.data.error)\n        setTimeout(() => {\n          setErrorMessage(null)\n          setErrorMessageType(0)\n          }, 5000)\n        })\n      }\n\n  const handleDeleteListing = (id) => {\n    phonebookService\n      .deleteListing(id)\n      .then(data => {\n        setErrorMessageType(1)\n        setErrorMessage(`Person deleted successfully.`)\n        setTimeout(() => {\n          setErrorMessage(null)\n          setErrorMessageType(0)\n          }, 5000)\n        })\n      .catch(error => {\n        setErrorMessageType(2)\n        setErrorMessage(`Server error - Failed to delete - the person no longer exists`)\n        setTimeout(() => {\n          setErrorMessage(null)\n          setErrorMessageType(0)\n          }, 5000)\n        })\n      setPersons(persons.filter(person => person.id !== id))\n      \n  }\n\n  const personsToShow = searchField === \"\" ? persons : persons.filter(person => person.name.includes(searchField))\n\n  //////////////////////////////////////////////////////\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} errorMessageType={errorMessageType}/>\n      <Filter onChange={updateSearchField} value={searchField}/>\n      <h3>Add a new listing</h3>\n      <PersonForm onSubmit={addNewName} nameValue={newName} nameOnChange={updateNewName} numberValue={newNumber} numberOnChange={updateNewNumber}/>\n      <h2>Numbers</h2>\n      <Persons \n        persons={personsToShow} \n        handleDeleteListing={handleDeleteListing}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}